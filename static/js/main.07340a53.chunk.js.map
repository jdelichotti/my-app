{"version":3,"sources":["index.js"],"names":["smartbetaddress","BetsReady","useState","bets","setBets","loadingState","setLoadingState","betStates","a","provider","ethers","providers","Web3Provider","window","ethereum","contract","Contract","SmartBet","abi","getAvailableBets","data","Promise","all","map","i","bet","betId","toNumber","localTeam","visitorTeam","state","results","initialAmount","utils","formatUnits","toString","localWiningAmount","visitorWiningAmount","drawnAmount","betsItems","useEffect","loadBets","length","className","scope","betItem","href","pathname","query","id","optionSelected"],"mappings":"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","file":"static/js/main.07340a53.chunk.js","sourcesContent":["import { ethers } from 'ethers'\nimport { useEffect, useState } from 'react'\nimport Web3Modal from \"web3modal\"\nimport Link from 'next/link';\n/*\nimport {\n   smartbetaddress\n} from 'config.js'*/\nimport SmartBet from './contracts/SmartBet.json'\nconst smartbetaddress = \"0xc99ACCb9869102bE605aC6abB3e43d167bC609C1\"\n\n\n\nexport default function BetsReady() {\n  const [bets, setBets] = useState([])\n  const [loadingState, setLoadingState] = useState('not-loaded')\n  const betStates = ['BetFunding', 'Created', 'Open', 'Closed', 'ResultsReady', 'ReadyForPayment', 'Finished']  \n  useEffect(() => {\n    loadBets()\n  }, [])\n\n  async function loadBets() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const contract = new ethers.Contract(smartbetaddress, SmartBet.abi, provider)    \n    const data = await contract.getAvailableBets()\n\n\n    let betsItems = await Promise.all(data.map(async i => {\n      let bet = {    \n        betId: i.betId.toNumber(),\n        localTeam: i.localTeam,\n        visitorTeam: i.visitorTeam, \n        state: i.state,\n        results: i.results,\n        initialAmount: ethers.utils.formatUnits(i.initialAmount.toString(), 'ether'),\n        localWiningAmount: ethers.utils.formatUnits(i.localWiningAmount.toString(), 'ether'),\n        visitorWiningAmount: ethers.utils.formatUnits(i.visitorWiningAmount.toString(), 'ether'),\n        drawnAmount: ethers.utils.formatUnits(i.drawnAmount.toString(), 'ether')\n        }\n        return bet\n    }))\n    setBets(betsItems)\n    setLoadingState('loaded')\n    //console.log('items: ', bets)\n\n  }\n\n\n  \n  //if (loadingState === 'loaded' && !bets.length) return (<h1 className=\"py-10 px-20 text-3xl\">No bets created</h1>)\n  if (loadingState === 'loaded' && !bets.length) return (<h1 className=\"py-10 px-20 text-3xl\">No bets created</h1>)\n  return (\n    \n<div className=\"flex flex-col \">\n    <div className=\"-my-2 overflow-x-auto sm:-mx-8 lg:-mx-8 \">\n      <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n        <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Local Team\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Visitor Team\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Initial Amount\n                </th>                \n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Local Winning Amount\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Visitor Winning Amount\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Drawn Amount\n                </th>\n                <th\n                  scope=\"col\"\n                  className=\"px-3 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Bet State\n                </th>\n                <th scope=\"col\" className=\"relative px-3 py-1\">\n                  <span className=\"sr-only\">Local Wins!</span>\n                </th>               \n                <th scope=\"col\" className=\"relative px-3 py-1\">\n                  <span className=\"sr-only\">Visitor Wins!</span>\n                </th>\n                <th scope=\"col\" className=\"relative px-3 py-1\">\n                  <span className=\"sr-only\">Add Liquidity</span>\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n                {\n                    bets.map(\n                        (betItem, i) => \n                            (\n                            <tr key={betItem.betId}>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-900\">{betItem.localTeam}</div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-500\">{betItem.visitorTeam}</div>\n                                </td>                                \n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-500\">{betItem.initialAmount} eth</div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-500\">{betItem.localWiningAmount} eth</div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-500\">{betItem.visitorWiningAmount} eth</div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"text-sm text-gray-500\">{betItem.drawnAmount} eth</div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                                    {betStates[betItem.state]}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                                <Link href={{ pathname: '/add-gambler-bet' , query: { id: betItem.betId, optionSelected: 0} }}>\n                                    <a  className=\"text-indigo-600 hover:text-indigo-900\">\n                                    <button className=\"w-full bg-green-500 text-white font-bold py-2 px-0 rounded\">Local Wins</button>\n                                    </a>\n                                </Link>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                                <Link href={{ pathname: '/add-gambler-bet', query: { id: betItem.betId , optionSelected:1 }}}>\n                                    <a  className=\"text-indigo-600 hover:text-indigo-900\">\n                                    <button className=\"w-full bg-green-500 text-white font-bold py-2 px-0 rounded\">Visitor Win</button>\n                                    </a>\n                                </Link>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                                <Link href={{ pathname: '/add-gambler-bet', query: { id: betItem.betId, optionSelected: 2 } }}>\n                                    <a  className=\"text-indigo-600 hover:text-indigo-900\">\n                                    <button className=\"w-full bg-green-500 text-white font-bold py-2 px-0 rounded\">Drawn</button>\n                                    </a>\n                                </Link>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                                <Link href={{ pathname: '/add-sponsor-liquidity' , query: { id: betItem.betId }}}>\n                                    <a  className=\"text-indigo-600 hover:text-indigo-900\">\n                                    <button className=\"w-full bg-green-500 text-white font-bold py-2 px-0 rounded\">Add Liquidity</button>\n                                    </a>\n                                </Link>\n                                </td>\n                             \n                            </tr>\n                        )\n                    )\n                }\n            </tbody>\n            </table>\n        </div>\n        </div>\n    </div>\n    </div>\n  )\n}"],"sourceRoot":""}